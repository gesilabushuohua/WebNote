# 网络
Chrome 有个机制，对于同一个域名，默认允许同时建立 6 个 TCP持久连接，使用持久连接时，虽然能共用一个 TCP 管道，但在一个管道中，同一时刻只能处理一个请求

## HTTP/HTTPS
### 常见状态码
2xx
* 200 请求正确处理
* 204 no content 返回数据没有 body

3xx
* 301 永久重定向，资源已被分配了新的 URL
* 302 found 临时重定向，资源临时被分配了新的 URL
* 303 资源存在另一个 URL，应使用 GET 方法获取资源，301/302/303 响应，几乎所有都会删除报文主体并自动用 GET 重新请求
* 304 not modified 表示服务器允许访问资源，文件内容没有更改
* 307 temporary redirect 临时重定向，和301含义类似，但是期望客户端保持请求方法不变向新的地址发出请求

4xx
* 400 请求报文存在语法错误
* 401 请求需要通过 HTTP 认证的认证信息
* 403 forbidden 请求资源访问被服务器拒绝
* 404 not found 服务器上没有找到请求资源

5xx
* 500 服务端执行请求时发生错误
* 501 服务器不支持当前请求所需的某个功能
* 503 服务器暂时处于超负载货正在停机维护，无法处理请求

### 304 表示什么，和 302 有什么区别
302 临时重定向，资源临时被分配了新的 URL
304 允许访问资源，但是请求不满足条件

### HTTP 缓存策略
文章写得不够好，涉及关键的字段，
强缓存：
200 状态码，size 显示 from disk cache 或 from memory chache
Expires: 过期时间
Cache-Control max-age=300 代表请求正确返回时间

协商缓存：
304 状态码
ETag 只要资源有变化，就会重新生成


Cache-Control
* public 所有内容都将被缓存，客户端和代理服务器都可缓存
* private 所有内容都有客户端可以缓存，默认值
* no-cache 客户端缓存内容，是否使用缓存则需要经过协议缓存来验证决定
* no-store 所有内容都不会被缓存，不使用强制缓存，也不使用协商缓存
* max-age=xxx 混存内容将在 xxx 秒后失效

Expires=max-age+请求时间，受本地时间影响，需要和 Last-modified 结合使用

数据产品 + 技术

### Connection 为 keep-alive 表示什么
长连接，共用一个 TCP

### HTTPS
HTTPS = HTTP + TLS/SSL 
HTTPS 就是身披 SSL 协议这层外壳的 HTTP，可进行加密传输、身份认证的网络协议，比 HTTP 协议安全


TLS/SSL 功能实现主要依赖于三类基本算法，散列函数、对称加密、非对称加密，利用非对称加密实现身份认证和密钥协议，对称加密算法采用协商的密钥对数据加密，基于散列函数验证信息的完整性。

对称密钥解密的速率比较快，使用非对称密钥的好处是可以传输内容不能被破解，HTTPS 利用两者各自优势，在交换密钥环节使用非对称加密方式，之后的建立通信交换报文阶段则使用对称加密方式。

### HTTPS 之 非对称加密算法 RSA
* 随机选择两个不想等的质数 p q
* 计算 p q 的乘积 n
* 计算 n 的欧拉函数 &(n) = (p-1)(q-1)
* 随机选择一个整数 e，1< e < &(n)，且 e 与 &(n) 互质
* 计算 e 对 &(n) 的模反元素 d， 即 ed % &(n) = 1
* n e 封装称公钥，n d 封装成私钥

### http1.1
Connection: keep-alive 开启长连接
HTTP 长连接，通过重用一个 TCP 连接来发送/接收多个 HTTP 请求，来减少创建/关闭多个 TCP 连接开销
缺点，客户端接收完所有信息还没有关闭连接，则服务端相应的资源还在被占用。

### http2
* 二进制传输，将请求和响应数据采用二进制编码，解析更高效，
* 头部压缩，客户端服务器两端建立字典，用减少重复头部
* 多路复用，同一个域名下的所有请求都复用同一个 TCP 连接，增加服务器处理并发上限
* Server Push

### http3
HTTP 基于 UDP 协议实现
* 流量控制，传输可靠性功能
* 快速握手功能
* 集成 TLS 加密功能
* 多路复用，TCP 队头阻塞问题

## DNS
域名系统，解析域名成对应的 IP 地址
弄混淆的是，DHCP 协议，本机自动分配 IP 地址

浏览器输入网站的网址，发生步骤：
* 用户在浏览器的地址中敲入网站的地址
* 浏览器查找域名 IP 地址
* IP 地址后，浏览器给 Web 服务器发送一个 HTTP 请求
* 服务器处理请求
* 服务器发回一个 HTML 响应
* 浏览器开始显示 HTML


## TCP
* 怎样确保数据是可靠的，连接确认，关闭确认，收到数据确认
* 网络或其他原因，对方收不到数据，超时重试
* 网络情况变化，超时时间怎样确定，根据 RTT 动态计算
* 反反复复，多次重试，网络堵塞，满启动，拥塞避免，快速重传，快速恢复
* 发送速度和接收速度不匹配，滑动窗口
* 

### 三次握手
### 四次挥手
### 可靠性保证
* 分块传输
* 等待确认，通过定时器等待接收端发送确认请求，收不到确认则重发
* 确认回复，收到确认后确认回复
* 数据校验，保持首部和数据的校验和，检测数据传输过程有无变化
* 乱序排序，接收端能丢弃重复的数据包
* 流量缓冲，两端有固定大小的缓冲区（滑动窗口），防止速度不匹配丢数据

## CDN 内容分发网络
### CDN 是什么，及其应用场景
实时根据网络流量和各节点的连接、负载状况以及刀用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。

### CDN 的回源是什么

## 浏览器 URL 到页面展示，发生了什么
(http://taligarsiel.com/Projects/howbrowserswork1.htm)

1. DNS 解析
2. TCP 连接
3. 发送 HTTP 请求
4. 服务器处理请求并返回 HTTP 报文
5. 浏览器解析渲染页面
6. 解析 HTML 文档生成 DOM 树
7. 解析 CSS 生成 CSS 规则树
8. 两个树结合，结合成渲染树，进行回流得到几何信息
9. 重绘，根据渲染树，回流得到的集合信息，得到节点的绝对像素
10. 将像素发送给 GUP 展示在页面上

Javascript 的加载、解析与执行会阻塞 DOM 的构建

如何减少回流、重绘
* 使用 transform 替换 top
* 使用 visibility 替换 display: none 因为前者只会引起重绘，后者会引发回流
* 